{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Nonso/Desktop/projects/my-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/Nonso/Desktop/projects/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";export var initialState={basket:[],user:null};export var getBasketTotal=function getBasketTotal(basket){return basket===null||basket===void 0?void 0:basket.reduce(function(amount,item){return item.price+amount;},0);};// the dispatch object has a user property that can be accessed with action.user in the reducer same with type so the reducer has acccess to the dispacth object with action.property\nvar reducer=function reducer(state,action){console.log(state.basket);switch(action.type){case\"SET_USER\":return _objectSpread(_objectSpread({},state),{},{user:action.user});case\"ADD_TO_BASKET\":return _objectSpread(_objectSpread({},state),{},{basket:[].concat(_toConsumableArray(state.basket),[action.payload])});case\"REMOVE_FROM_BASKET\":var newBasket=_toConsumableArray(state.basket);var index=state.basket.findIndex(function(basketItem){return basketItem.id===action.id;});if(index>=0){newBasket.splice(index,1);}else{console.warn(\"cant remove basket from \".concat(action.id));}return _objectSpread(_objectSpread({},state),{},{basket:newBasket});default:return state;}};export default reducer;","map":{"version":3,"names":["initialState","basket","user","getBasketTotal","reduce","amount","item","price","reducer","state","action","console","log","type","payload","newBasket","index","findIndex","basketItem","id","splice","warn"],"sources":["C:/Users/Nonso/Desktop/projects/my-app/src/reducer.js"],"sourcesContent":["export const initialState = {\r\n  basket: [],\r\n  user: null,\r\n};\r\n\r\nexport const getBasketTotal = (basket) =>\r\n  basket?.reduce((amount, item) => item.price + amount, 0);\r\n// the dispatch object has a user property that can be accessed with action.user in the reducer same with type so the reducer has acccess to the dispacth object with action.property\r\nconst reducer = (state, action) => {\r\n  console.log(state.basket);\r\n  switch (action.type) {\r\n    case \"SET_USER\":\r\n      return {\r\n        ...state,\r\n        user: action.user,\r\n      };\r\n    case \"ADD_TO_BASKET\":\r\n      return { ...state, basket: [...state.basket, action.payload] };\r\n\r\n    case \"REMOVE_FROM_BASKET\":\r\n      let newBasket = [...state.basket];\r\n\r\n      const index = state.basket.findIndex(\r\n        (basketItem) => basketItem.id === action.id\r\n      );\r\n      if (index >= 0) {\r\n        newBasket.splice(index, 1);\r\n      } else {\r\n        console.warn(`cant remove basket from ${action.id}`);\r\n      }\r\n\r\n      return { ...state, basket: newBasket };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n"],"mappings":"+PAAA,MAAO,IAAMA,aAAY,CAAG,CAC1BC,MAAM,CAAE,EAAE,CACVC,IAAI,CAAE,IACR,CAAC,CAED,MAAO,IAAMC,eAAc,CAAG,QAAjBA,eAAc,CAAIF,MAAM,QACnCA,OAAM,SAANA,MAAM,iBAANA,MAAM,CAAEG,MAAM,CAAC,SAACC,MAAM,CAAEC,IAAI,QAAKA,KAAI,CAACC,KAAK,CAAGF,MAAM,GAAE,CAAC,CAAC,GAC1D;AACA,GAAMG,QAAO,CAAG,QAAVA,QAAO,CAAIC,KAAK,CAAEC,MAAM,CAAK,CACjCC,OAAO,CAACC,GAAG,CAACH,KAAK,CAACR,MAAM,CAAC,CACzB,OAAQS,MAAM,CAACG,IAAI,EACjB,IAAK,UAAU,CACb,sCACKJ,KAAK,MACRP,IAAI,CAAEQ,MAAM,CAACR,IAAI,GAErB,IAAK,eAAe,CAClB,sCAAYO,KAAK,MAAER,MAAM,8BAAMQ,KAAK,CAACR,MAAM,GAAES,MAAM,CAACI,OAAO,EAAC,GAE9D,IAAK,oBAAoB,CACvB,GAAIC,UAAS,oBAAON,KAAK,CAACR,MAAM,CAAC,CAEjC,GAAMe,MAAK,CAAGP,KAAK,CAACR,MAAM,CAACgB,SAAS,CAClC,SAACC,UAAU,QAAKA,WAAU,CAACC,EAAE,GAAKT,MAAM,CAACS,EAAE,GAC5C,CACD,GAAIH,KAAK,EAAI,CAAC,CAAE,CACdD,SAAS,CAACK,MAAM,CAACJ,KAAK,CAAE,CAAC,CAAC,CAC5B,CAAC,IAAM,CACLL,OAAO,CAACU,IAAI,mCAA4BX,MAAM,CAACS,EAAE,EAAG,CACtD,CAEA,sCAAYV,KAAK,MAAER,MAAM,CAAEc,SAAS,GAEtC,QACE,MAAON,MAAK,CAAC,CAEnB,CAAC,CAED,cAAeD,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}